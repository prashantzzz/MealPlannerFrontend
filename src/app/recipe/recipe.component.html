<title>Recipe</title>
<div class="container mx-auto p-4 pt-20">
    <h2 class="text-2xl font-bold mb-4">Recipes</h2>
  
    <!-- Recipe Form -->
    <div *ngIf="userRole === 'Admin' || userRole === 'Chef' || userRole === 'Nutritionist'" class="mb-8">
      <h3 class="text-xl font-semibold mb-2">{{ editingRecipe ? 'Edit Recipe' : 'Create Recipe' }}</h3>
      <form (ngSubmit)="onSubmit()">
        <div class="mb-4">
          <label for="name" class="block text-sm font-medium">Name</label>
          <input [(ngModel)]="recipeForm.name" id="name" name="name" class="w-full border rounded p-2" required />
        </div>
        <div class="mb-4">
          <label for="category" class="block text-sm font-medium">Category</label>
          <input [(ngModel)]="recipeForm.category" id="category" name="category" class="w-full border rounded p-2" />
        </div>
        <div class="mb-4">
          <label for="ingredients" class="block text-sm font-medium">Ingredients</label>
          <textarea [(ngModel)]="recipeForm.ingredients" id="ingredients" name="ingredients" class="w-full border rounded p-2"></textarea>
        </div>
        <div class="mb-4">
          <label for="preparationSteps" class="block text-sm font-medium">Preparation Steps</label>
          <input [(ngModel)]="recipeForm.preparationSteps" id="preparationSteps" name="preparationSteps" type="number" class="w-full border rounded p-2" />
        </div>
        <div class="mb-4">
          <label for="cookingTime" class="block text-sm font-medium">Cooking Time (minutes)</label>
          <input [(ngModel)]="recipeForm.cookingTime" id="cookingTime" name="cookingTime" type="number" class="w-full border rounded p-2" />
        </div>
        <div class="mb-4">
          <label for="servings" class="block text-sm font-medium">Servings</label>
          <input [(ngModel)]="recipeForm.servings" id="servings" name="servings" type="number" class="w-full border rounded p-2" />
        </div>
        <div class="mb-4">
          <label for="nutritionalInfo" class="block text-sm font-medium">Nutritional Info</label>
          <textarea [(ngModel)]="recipeForm.nutritionalInfo" id="nutritionalInfo" name="nutritionalInfo" class="w-full border rounded p-2"></textarea>
        </div>
        <button type="submit" class="bg-emerald-500 text-white px-4 py-2 rounded hover:bg-emerald-700">
          {{ editingRecipe ? 'Update Recipe' : 'Create Recipe' }}
        </button>
      </form>
    </div>
  
    <!-- Recipe List -->
    <div *ngIf="recipes.length > 0; else noRecipes">
      <div *ngFor="let recipe of recipes" class="recipe-card p-4 border rounded mb-4">
        <h3 class="font-semibold">{{ recipe.name }}</h3>
        <p>Category: {{ recipe.category }}</p>
        <p>Cooking Time: {{ recipe.cookingTime }} minutes</p>
        <button *ngIf="userRole === 'Admin' || userRole === 'Chef' || userRole === 'Nutritionist'" 
                class="bg-blue-500 text-white px-2 py-1 rounded mr-2 hover:bg-blue-700" 
                (click)="editRecipe(recipe)">
          Edit
        </button>
        <button *ngIf="userRole === 'Admin' || userRole === 'Chef' || userRole === 'Nutritionist'" 
                class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-700" 
                (click)="deleteRecipe(recipe.id)">
          Delete
        </button>
      </div>
    </div>
  
    <ng-template #noRecipes>
      <p>No recipes available. Please add some!</p>
    </ng-template>
  </div>
  